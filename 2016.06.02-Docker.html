
<p>
    What is Docker? according to their site
    <blockquote>Docker containers wrap up a piece of software in a complete filesystem that contains everything it needs to run: code, runtime, system tools, system libraries â€“ anything you can install on a server. This guarantees that it will always run the same, regardless of the environment it is running in.</blockquote>
    Basiclly rather then build a machine you describe how to build it so if you need to scale out or need an exact copy, say run tests on, or any other very good reason you need a copy. 
    The core feature is that if a docker container runs on one maching you can be sure that will run the same on another.
</p>
<p>
    This blog is run on a docker container running on Microsoft Azure. Why Azure? Since Microsoft was late to the game of docker support I wanted to see how far they had gotten, so far I have not broken anything yet.
</p>
<p>
    To define a docker container you use a Docker file, the one for this site is:
    <pre><code class="Docker">
# https://github.com/darinmorrison/docker-haskell/tree/docker-library
FROM haskell:latest

RUN cabal update

# Add Cabal File and deps/ folder
ADD ./site.cabal /opt/site/site.cabal
RUN cd /opt/site && cabal install --only-dependencies

ADD ./src /opt/site/src

# Init logging directories
RUN mkdir /opt/site/log

# Build the Project
RUN cd /opt/site && cabal build

RUN apt-get update && apt-get install -y git

# Add our crontab file
ADD config /config

#start up
ADD ./start-up.sh /opt/site/start-up.sh
RUN chmod a+x /opt/site/start-up.sh

ADD ./static /opt/site/static

# The directory CMD works from
CMD "/opt/site/start-up.sh"
</code></pre>
</p> 